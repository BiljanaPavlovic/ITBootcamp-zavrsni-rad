(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{18:function(e,t,a){e.exports=a(30)},23:function(e,t,a){},24:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),u=(a(23),a(1)),o=(a(24),a(6)),s=a(7),i=" https://coetus.herokuapp.com",m="/api/forum",p="/users",E="/message",f="/topics";function b(e){return fetch("".concat(i).concat(m).concat(E,"/").concat(e)).then((function(e){return e.json()}))}function d(e){return fetch("".concat(i).concat(m).concat(E),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()}))}var g=Object(s.f)((function(e){var t=e.history,a=e.setUser,l=Object(n.useState)(""),c=Object(u.a)(l,2),o=c[0],s=c[1],E=Object(n.useState)(""),f=Object(u.a)(E,2),b=f[0],d=f[1];function g(){var e;(e={username:o,password:b},fetch("".concat(i).concat(m).concat(p),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"POST",body:JSON.stringify(e)}).then((function(e){return e.json()}))).then((function(e){e.success?(a(e.user),t.push("/profile/".concat(e.user.user_id)),console.log("ulogovan"),alert("Ulogovani ste!")):alert("Neispravan unos"),console.log(e,"\u041d\u0438\u0458\u0435 \u0443\u043b\u043e\u0433\u043e\u0432\u0430\u043d")}))}return r.a.createElement("form",null,r.a.createElement("div",{className:"Login"},r.a.createElement("h3",null,"Ako ve\u0107 ima\u0161 nalog uloguj se!"),r.a.createElement("input",{className:"input-lr",type:"text",placeholder:"username",required:!0,onInput:function(e){s(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"password",placeholder:"password",required:!0,onInput:function(e){d(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"dugme",type:"submit",value:"Uloguj se",onClick:function(e){e.preventDefault(),g()}})))})),j=function(e){var t=e.setUser,a=(e.history,Object(n.useState)("")),l=Object(u.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)(""),E=Object(u.a)(s,2),f=E[0],b=E[1],d=Object(n.useState)(""),g=Object(u.a)(d,2),j=g[0],h=g[1],v=Object(n.useState)(""),O=Object(u.a)(v,2),y=O[0],N=O[1],S=Object(n.useState)(""),k=Object(u.a)(S,2),U=k[0],w=k[1],I=Object(n.useState)(""),P=Object(u.a)(I,2),T=P[0],_=P[1],q=Object(n.useState)(!1),C=Object(u.a)(q,2),x=C[0],D=C[1],J=Object(n.useState)(!1),B=Object(u.a)(J,2),z=B[0],A=B[1];function R(){var e;x&&z&&(e={name:c,surname:f,username:j,email:y,password:U},fetch("".concat(i).concat(m).concat(p),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify(e)}).then((function(e){return e.json()}))).then((function(e){e.success?(t(e.user),console.log("Uspesna registracija")):console.log(e,"Neuspesna registracija")}))}return Object(n.useEffect)((function(){console.log(U),/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/g.test(U)?D(!0):D(!1)}),[U]),Object(n.useEffect)((function(){A(T===U),console.log(T===U)}),[T,U]),r.a.createElement("div",{className:"register"},r.a.createElement("form",null,r.a.createElement("h3",null,"Registruj se!"),r.a.createElement("input",{className:"input-lr",type:"text",placeholder:"Ime",required:!0,onInput:function(e){o(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"text",placeholder:"Prezime",required:!0,onInput:function(e){b(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"text",placeholder:"Username",required:!0,onInput:function(e){h(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"text",placeholder:"E-mail",required:!0,onInput:function(e){N(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"password",placeholder:"Password",required:!0,onInput:function(e){w(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"input-lr",type:"password",placeholder:"Confirm Password",required:!0,onInput:function(e){_(e.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{className:"dugme",type:"submit",value:"Registruj se",onClick:function(e){e.preventDefault(),R()}})),r.a.createElement("p",null," *\u0160ifra mora da sadr\u017ei broj i da ima najmanje osam karaktera."))},h=Object(s.f)((function(e){var t=e.history;console.log(t);var a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){fetch("".concat(i).concat(m,"/topics")).then((function(e){return e.json()})).then((function(e){console.log(e),o(e.topics)}))}),[]),r.a.createElement("div",{className:"lista-tema"},r.a.createElement("h3",null,"Pogledajte postoje\u0107e teme:"),r.a.createElement("ul",null,c.map((function(e){return r.a.createElement("li",{onClick:function(){return t.push("/topic/".concat(e.topic_id))}},e.title.toString())}))))})),v=Object(s.f)((function e(t){var a=t.user,n=t.setUser;return r.a.createElement("div",null,r.a.createElement("h1",null,"ITBootcamp Forum"),r.a.createElement(o.b,{to:"/login"},r.a.createElement("input",{className:"dugme",type:"submit",value:"Uloguj se"})),r.a.createElement(o.b,{to:"/register"},r.a.createElement("input",{className:"dugme",type:"submit",value:"Registruj se"})),r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/login"}," ",r.a.createElement(g,{setUser:n})," "),r.a.createElement(s.a,{path:"/register"}," ",r.a.createElement(j,{setUser:n})," "),r.a.createElement(s.a,{path:" "},r.a.createElement(e,null))),r.a.createElement(h,{user:a}))})),O=function(e){var t=e.user,a=t.user_id,l=t.username,c=Object(n.useState)(""),o=Object(u.a)(c,2),s=o[0],p=o[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),g=b[0],j=b[1];function h(){(function(e,t){return fetch("".concat(i).concat(m).concat(f),{headers:{"Content-Type":"application/json; charset=utf-8"},method:"PUT",body:JSON.stringify({user_id:e,title:t})}).then((function(e){return e.json()}))})(a,s).then((function(e){e.success?(d({username:l,topic_id:e.topic.topic_id,message:g}).then((function(e){return console.log(e)})),console.log(e)):console.log(e,"Tema nije dodata")}))}return r.a.createElement("div",{className:"nova-tema"},r.a.createElement("h3",null,"Zapo\u010dni novu temu:"),r.a.createElement("input",{className:"input-nova-tema",type:"text",placeholder:"Naslov",required:!0,onInput:function(e){p(e.target.value),console.log(s)}})," ",r.a.createElement("br",null),r.a.createElement("input",{className:"input-nova-tema",type:"text",placeholder:"prva poruka",required:!0,onInput:function(e){j(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("input",{className:"dugme",type:"submit",value:"Po\u0161alji",onClick:function(e){e.preventDefault(),h()}}))},y=function(e){var t=e.match,a=e.user.username,l=Object(n.useState)(t.params.topic_id),c=Object(u.a)(l,1)[0],o=Object(n.useState)(""),s=Object(u.a)(o,2),i=s[0],m=s[1],p=Object(n.useState)([]),E=Object(u.a)(p,2),f=E[0],g=E[1];return console.log(c),Object(n.useEffect)((function(){b(c).then((function(e){e.success?g(e.messages):console.log(e)}))}),[c]),r.a.createElement("div",{className:"postojecaTema"},r.a.createElement("h3",null,"Dodaj odgovor na temu."),r.a.createElement("div",{className:"poruke"},r.a.createElement("h3",null,"Pogledajte postoje\u0107e poruke:"),r.a.createElement("ul",null,f.map((function(e){return r.a.createElement("li",{key:e.message_id}," Vreme:",r.a.createElement("b",null,new Date(e.timestamp).toLocaleTimeString("en-US")),"; Korisnik:",r.a.createElement("b",null," ",e.username),";",r.a.createElement("br",null)," Poruka:",r.a.createElement("b",null," ",e.message.toString()," "))})))),r.a.createElement("form",null,r.a.createElement("input",{className:"input-nova-poruka",type:"text",placeholder:"nova poruka",required:!0,value:i,onInput:function(e){m(e.target.value)}})," ",r.a.createElement("br",null),r.a.createElement("input",{className:"dugme",type:"submit",value:"Po\u0161alji",onClick:function(e){e.preventDefault(),d({username:a,topic_id:c,message:i}).then((function(e){console.log(e),alert("Morate biti ulogovani!"),b(c).then((function(e){return g(e.messages)}))})),m("")}})))},N=function(e){var t=e.match,a=e.usern,l=Object(n.useState)(t.params.user_id),c=Object(u.a)(l,1)[0],o=Object(n.useState)({}),s=Object(u.a)(o,2),E=s[0],f=s[1];return Object(n.useEffect)((function(){var e;(e=c,fetch("".concat(i).concat(m).concat(p,"/").concat(e)).then((function(e){return e.json()}))).then((function(e){e.success?f(e.user):console.log(e)}))}),[]),r.a.createElement("div",{className:"profil-korisnika"},r.a.createElement("h3",null,"Profil korisnika"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("ol",{className:"profil"},r.a.createElement("li",null,"Ime:  ",E.name),r.a.createElement("br",null),r.a.createElement("br",null),console.log(E),console.log(E.name),r.a.createElement("li",null,"Prezime: ",E.surname),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("li",null,"Username ",E.username),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("li",null,"E-mail: ",E.email)),r.a.createElement("img",{className:"profilna",src:"https://cdn0.iconfinder.com/data/icons/large-glossy-icons/512/User.png"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O,{user:a}))},S=function(e){e.setUser,e.setUsername;var t=e.user;return r.a.createElement("div",null,r.a.createElement(s.a,{path:"/topic/:topic_id",component:function(e){return r.a.createElement(y,Object.assign({user:t},e))}}),r.a.createElement(s.a,{path:"/profile/:user_id",component:function(e){return r.a.createElement(N,Object.assign({usern:t},e))}}))},k=function(){return r.a.createElement("h6",null,"\xa9Biljana Pavlovic 2019.")};var U=function(){var e=Object(n.useState)({}),t=Object(u.a)(e,2),a=t[0],l=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,{basename:"/ITBootcampZavrsniRad"},r.a.createElement(v,{user:a,setUser:l}),r.a.createElement(S,{setUser:l,loggedin:a,user:a}),r.a.createElement(k,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[18,1,2]]]);
//# sourceMappingURL=main.cfc181fa.chunk.js.map